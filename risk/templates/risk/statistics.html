{% extends 'base.html' %}

{% block title %}Projects{% endblock title %}
{% block content %}

<div class="container-xl bg-light">
    <figure >
        <div id="container"></div>
        <p class="highcharts-description">
          Pie charts are very popular for showing a compact overview of a
          composition or comparison. While they can be harder to read than
          column charts, they remain a popular choice for small datasets.
        </p>
      </figure>
      {% for risk, count in risk_values.items %}

      {% endfor %}
</div>

{% endblock content %}

{% block js %}
{{block.super}}
<script type="text/javascript">
$(document).ready(function() {
    Highcharts.chart('container', {
        chart: {
        plotBackgroundColor: null,
        plotBorderWidth: null,
        plotShadow: false,
        type: 'pie'
        },
        title: {
        text: 'Stavy riz√≠k'
        },
        tooltip: {
        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
        },
        accessibility: {
        point: {
            valueSuffix: '%'
        }
        },
        plotOptions: {
        pie: {
            allowPointSelect: true,
            cursor: 'pointer',
            dataLabels: {
            enabled: true,
            format: '<b>{point.name}</b>: {point.percentage:.1f} %'
            }
        }
        },
        series: [{
        name: 'Brands',
        colorByPoint: true,
        data: [
        {% for risk, count in risk_values %}
        {
            name: '{{risk}}',
            y: parseInt('{{count}}', 10)
        },
        {% endfor %}]
        }]
    });

});
</script>
{% endblock js %}
